[gd_scene format=3 uid="uid://ds8kjdmqdpb6o"]

[ext_resource type="Script" uid="uid://cufdvlc7enroe" path="res://main.gd" id="1_main"]
[ext_resource type="PackedScene" uid="uid://dx6pwtp4bdui4" path="res://player.tscn" id="2_player"]
[ext_resource type="Script" uid="uid://1aevjhiok4ra" path="res://camera_shake.gd" id="3_camera"]
[ext_resource type="Script" uid="uid://bqcl478iw47cg" path="res://spawner.gd" id="4_spawner"]

[sub_resource type="Environment" id="Environment_glow"]
background_mode = 3
background_color = Color(0.02, 0.02, 0.05, 1)
glow_enabled = true
glow_intensity = 1.5
glow_strength = 1.2
glow_blend_mode = 0
glow_hdr_threshold = 0.0

[sub_resource type="CircleShape2D" id="CircleShape2D_core"]
radius = 40.0

[sub_resource type="Gradient" id="Gradient_shield"]
offsets = PackedFloat32Array(0.7, 1)
colors = PackedColorArray(0, 0.8, 1, 0.3, 0, 0.5, 1, 0.8)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_shield"]
gradient = SubResource("Gradient_shield")
width = 256
height = 256
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0)

[sub_resource type="Shader" id="Shader_grayscale"]
code = "shader_type canvas_item;
uniform float intensity : hint_range(0.0, 1.0) = 1.0;
void fragment() {
    vec4 col = texture(TEXTURE, UV);
    float gray = dot(col.rgb, vec3(0.299, 0.587, 0.114));
    COLOR = vec4(mix(col.rgb, vec3(gray), intensity), col.a);
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_grayscale"]
shader = SubResource("Shader_grayscale")
shader_parameter/intensity = 1.0

[node name="Main" type="Node2D" unique_id=249978516]
script = ExtResource("1_main")

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1793795995]
environment = SubResource("Environment_glow")

[node name="Player" parent="." unique_id=1247119238 instance=ExtResource("2_player")]

[node name="EnemySpawner" type="Node" parent="." unique_id=937094176]
script = ExtResource("4_spawner")

[node name="Projectiles" type="Node" parent="." unique_id=382071510]

[node name="Core" type="Area2D" parent="." unique_id=375931053]
collision_layer = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Core" unique_id=956991654]
shape = SubResource("CircleShape2D_core")

[node name="Camera2D" type="Camera2D" parent="." unique_id=1897652225]
script = ExtResource("3_camera")

[node name="ShieldSprite" type="Sprite2D" parent="." unique_id=1992585805]
visible = false
modulate = Color(0, 0.8, 1, 0.7)
texture = SubResource("GradientTexture2D_shield")

[node name="HitStopFilter" type="CanvasLayer" parent="." unique_id=1282860660]
layer = 50

[node name="GrayscaleRect" type="ColorRect" parent="HitStopFilter" unique_id=966673466]
visible = false
material = SubResource("ShaderMaterial_grayscale")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=2035059018]
layer = 100

[node name="ScoreLabel" type="Label" parent="CanvasLayer" unique_id=142415816]
offset_left = 20.0
offset_top = 32.0
offset_right = 420.0
offset_bottom = 112.0
text = "SCORE: 0"

[node name="XPBar" type="TextureProgressBar" parent="CanvasLayer" unique_id=123456789]
offset_left = 20.0
offset_top = 120.0
offset_right = 220.0
offset_bottom = 140.0
tint_under = Color(0.2, 0.2, 0.2, 0.5)
tint_progress = Color(0, 1, 0, 1)

[node name="XPText" type="Label" parent="CanvasLayer" unique_id=987654321]
offset_left = 20.0
offset_top = 100.0
offset_right = 220.0
offset_bottom = 120.0
text = "LEVEL 1 - XP: 0/10"
horizontal_alignment = 1

[node name="OrbitalShieldLabel" type="Label" parent="CanvasLayer" unique_id=246813579]
offset_left = 20.0
offset_top = 140.0
offset_right = 220.0
offset_bottom = 160.0
text = "Ë°õÊòüÁõæ: 0Á¥ö"
horizontal_alignment = 1

[node name="HealthUI" type="Control" parent="CanvasLayer" unique_id=114278274]
layout_mode = 3
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -180.0
offset_top = 20.0
offset_right = 20.0
offset_bottom = 60.0
grow_horizontal = 0

[node name="Heart1" type="Label" parent="CanvasLayer/HealthUI" unique_id=933002887]
modulate = Color(1, 0.2, 0.3, 1)
layout_mode = 0
offset_left = -81.0
offset_right = -41.0
offset_bottom = 40.0
text = "‚ô•"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Heart2" type="Label" parent="CanvasLayer/HealthUI" unique_id=72469459]
modulate = Color(1, 0.2, 0.3, 1)
layout_mode = 0
offset_left = -31.0
offset_right = 9.0
offset_bottom = 40.0
text = "‚ô•"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Heart3" type="Label" parent="CanvasLayer/HealthUI" unique_id=1622882616]
modulate = Color(1, 0.2, 0.3, 1)
layout_mode = 0
offset_left = 19.0
offset_right = 59.0
offset_bottom = 40.0
text = "‚ô•"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Heart4" type="Label" parent="CanvasLayer/HealthUI" unique_id=580796836]
modulate = Color(1, 0.2, 0.3, 1)
layout_mode = 0
offset_left = 69.0
offset_right = 109.0
offset_bottom = 40.0
text = "‚ô•"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Heart5" type="Label" parent="CanvasLayer/HealthUI" unique_id=1740415322]
modulate = Color(1, 0.2, 0.3, 1)
layout_mode = 0
offset_left = 119.0
offset_right = 159.0
offset_bottom = 40.0
text = "‚ô•"
horizontal_alignment = 1
vertical_alignment = 1

[node name="SkillUI" type="Control" parent="CanvasLayer" unique_id=856443887]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = -120.0
offset_right = 320.0
offset_bottom = -20.0
grow_vertical = 0

[node name="slow_motion_button" type="Button" parent="CanvasLayer/SkillUI" unique_id=352355673]
layout_mode = 0
offset_right = 200.0
offset_bottom = 30.0
text = "[1] ÊôÇÈñìÊ∏õÁ∑©"

[node name="shield_button" type="Button" parent="CanvasLayer/SkillUI" unique_id=621570216]
layout_mode = 0
offset_top = 32.0
offset_right = 200.0
offset_bottom = 62.0
text = "[2] Ë≠∑Áõæ"

[node name="clear_screen_button" type="Button" parent="CanvasLayer/SkillUI" unique_id=856372854]
layout_mode = 0
offset_top = 64.0
offset_right = 200.0
offset_bottom = 94.0
text = "[3] Ê∏ÖÂ±è"

[node name="GameOverScreen" type="Control" parent="CanvasLayer" unique_id=1422394507]
process_mode = 3
visible = false
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -150.0
offset_right = 200.0
offset_bottom = 150.0
grow_horizontal = 2
grow_vertical = 2

[node name="GameOverPanel" type="Panel" parent="CanvasLayer/GameOverScreen" unique_id=2131508706]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="FinalScoreLabel" type="Label" parent="CanvasLayer/GameOverScreen/GameOverPanel" unique_id=1177884595]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -150.0
offset_top = 30.0
offset_right = 150.0
offset_bottom = 80.0
grow_horizontal = 2
text = "Final Score: 0"
horizontal_alignment = 1

[node name="RestartButton" type="Button" parent="CanvasLayer/GameOverScreen/GameOverPanel" unique_id=521345658]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -80.0
offset_top = -120.0
offset_right = 80.0
offset_bottom = -70.0
grow_horizontal = 2
grow_vertical = 0
text = "ÈáçÊñ∞ÈñãÂßã"

[node name="TitleButton" type="Button" parent="CanvasLayer/GameOverScreen/GameOverPanel" unique_id=1135130016]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -80.0
offset_top = -60.0
offset_right = 80.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 0
text = "ÈÅ∏ÊìáÈõ£Â∫¶"

[node name="VictoryScreen" type="Control" parent="CanvasLayer" unique_id=950089990]
process_mode = 3
visible = false
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -250.0
offset_top = -180.0
offset_right = 250.0
offset_bottom = 180.0
grow_horizontal = 2
grow_vertical = 2

[node name="VictoryPanel" type="Panel" parent="CanvasLayer/VictoryScreen" unique_id=343008347]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VictoryTitle" type="Label" parent="CanvasLayer/VictoryScreen/VictoryPanel" unique_id=2135578702]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -200.0
offset_top = 20.0
offset_right = 200.0
offset_bottom = 80.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 32
text = "üéâ ÂãùÂà©ÔºÅ"
horizontal_alignment = 1

[node name="VictoryLevelLabel" type="Label" parent="CanvasLayer/VictoryScreen/VictoryPanel" unique_id=316212831]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -150.0
offset_top = 90.0
offset_right = 150.0
offset_bottom = 130.0
grow_horizontal = 2
text = "ÊúÄÁµÇÁ≠âÁ¥ö: 10"
horizontal_alignment = 1

[node name="VictoryScoreLabel" type="Label" parent="CanvasLayer/VictoryScreen/VictoryPanel" unique_id=347822246]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -150.0
offset_top = 130.0
offset_right = 150.0
offset_bottom = 170.0
grow_horizontal = 2
text = "ÊúÄÁµÇÂàÜÊï∏: 0"
horizontal_alignment = 1

[node name="VictoryMessage" type="Label" parent="CanvasLayer/VictoryScreen/VictoryPanel" unique_id=1305737692]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -200.0
offset_top = 170.0
offset_right = 200.0
offset_bottom = 210.0
grow_horizontal = 2
theme_override_font_sizes/font_size = 14
text = "ÊÅ≠Âñú‰Ω†ÂÆåÊàê‰∫ÜÊâÄÊúâÊåëÊà∞ÔºÅ"
horizontal_alignment = 1

[node name="VictoryRestartButton" type="Button" parent="CanvasLayer/VictoryScreen/VictoryPanel" unique_id=294809277]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -80.0
offset_top = -120.0
offset_right = 80.0
offset_bottom = -70.0
grow_horizontal = 2
grow_vertical = 0
text = "ÈáçÊñ∞ÈñãÂßã"

[node name="VictoryTitleButton" type="Button" parent="CanvasLayer/VictoryScreen/VictoryPanel" unique_id=1643292135]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -80.0
offset_top = -60.0
offset_right = 80.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 0
text = "ÈÅ∏ÊìáÈõ£Â∫¶"
